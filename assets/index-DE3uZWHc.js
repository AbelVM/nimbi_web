(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const l of t.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&f(l)}).observe(document,{childList:!0,subtree:!0});function h(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function f(n){if(n.ep)return;n.ep=!0;const t=h(n);fetch(n.href,t)}})();(async function(){const i=document.getElementById("world"),h=document.getElementById("viewport"),f=document.getElementById("logo"),n=[{file:"./assets/cloud.png",opacity:1,weight:.7},{file:"./assets/darkCloud.png",opacity:1,weight:1}],t=()=>{if(window.crypto)return window.crypto.getRandomValues(new Uint32Array(1))[0]/4294967296;{const e=Date.now(),r=Math.pow(10,e.toString().length);return(e+Math.random()*r)%r/r}},l=()=>{const e=document.createElement("div");let[r,o,a]=[256-t()*512,256-t()*512,256-t()*512],m=t()*360,d=.25+t();e.className="cloudBase",e.style.transform=`translateX(${r}px) translateY(${o}px) translateZ(${a}px)`;for(let x=0;x<5+Math.round(t()*10);x++){const s=document.createElement("img"),X=t();let C="/assets/darkCloud.png";v.forEach(E=>{X>=E.min&&X<=E.max&&(C=E.src)}),r=256-t()*512,o=256-t()*512,a=100-t()*200,m=t()*360,d=t()+.25,r*=.2,o*=.2,s.data={x:r,y:o,z:a,a:m,s:d,speed:t()*-.025},s.setAttribute("src",C),s.setAttribute("alt","nimbus"),s.className="cloudLayer",s.style.transform=`translateX(${r}px) translateY(${o}px) translateZ(${a}px) rotateZ(${m}deg) scale(${d})`,e.appendChild(s),y.push(s)}return i.appendChild(e),e},A=()=>{const e=n.reduce((o,a)=>o+a.weight,0);let r=0;M=[],v=[],n.forEach(o=>{let a=o.weight/e;v.push({src:o.file,min:r,max:r+a}),r+=a});for(let o=0;o<5+Math.round(t()*3);o++)M.push(l())},w=()=>{f.style.transform=`rotateY(${-u}deg) rotateX(${-c}deg)`,i.style.transform=`translateZ(${g}px) rotateX(${c}deg) rotateY(${u}deg)`,Y===0&&(Y=1,y.forEach(e=>{e.style.opacity=.8}))},$=e=>{u=-(.5-e.clientX/window.innerWidth)*180,c=(.5-e.clientY/window.innerHeight)*180,w()},D=e=>{let r=e.changedTouches.length;for(;r--;){const o=e.changedTouches[r];u=-(.5-o.pageX/window.innerWidth)*180,c=(.5-o.pageY/window.innerHeight)*180,w()}e.preventDefault()},b=e=>{e=e||window.event,g+=e.detail?e.detail*-5:e.wheelDelta/8,g=Math.min(Math.max(g,-200),500),w()},L=()=>{y.forEach(e=>{e.data.a+=e.data.speed,e.style.transform=`translateX(${e.data.x}px) translateY(${e.data.y}px) translateZ(${e.data.z}px) 
                rotateY(${-u}deg) rotateX(${-c}deg) rotateZ(${e.data.a}deg) 
                scale(${e.data.s})`}),requestAnimationFrame(L)},P=()=>{const e=document.getElementById("marco"),r=new URLSearchParams(window.location.search),o=r.get("hash"),a=["color: #fff","font-family: arial","font-size: 20px","background-image: linear-gradient(to top, rgb(69, 132, 180) 0%,rgb(31, 71, 120) 100%)","padding: 10px","border-radius: 4px"].join(";"),m=(navigator.language||navigator.userLanguage).split("-")[0].toLowerCase(),d={es:"nimbi: Forma plural de 'nimbus', palabra latina que significa 'nube de lluvia'.",en:"nimbi: Plural form of 'nimbus', Latin word meaning 'rain cloud'."};if(o)try{e.src=`content/index.html${atob(o)}`}catch{console.error("You, rascal!"),e.src="content/index.html"}A(),L(),console.log(`%c${d[m]||d.en}`,a)};let y=[],M=[],v=[],c=0,u=0,g=0,Y=0;h.style.perspective=400;const p=document.querySelector(".droplet");p.addEventListener("click",e=>{window.scrollTo({top:document.body.scrollHeight,left:0,behavior:"smooth"})}),window.addEventListener("scroll",e=>{p.style.opacity=0,p.style.pointerEvents="none"}),window.addEventListener("scrollend",e=>{window.scrollY===0&&setTimeout(()=>{p.style.opacity=1,p.style.pointerEvents="auto"},5e3)}),window.addEventListener("mousewheel",b),window.addEventListener("DOMMouseScroll",b),window.addEventListener("mousemove",$),window.addEventListener("touchmove",D),document.addEventListener("contextmenu",e=>e.preventDefault()),document.addEventListener("DOMContentLoaded",P),window.onMouseMove=$})();
